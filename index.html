<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iSmartLock Pro Dashboard</title>
    
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    
    <header class="app-header">
        <div class="header-brand">
            <i class="fas fa-shield-alt fa-lg"></i>
            <div>
                <h1>iSmartLock</h1>
                <small>Pro System</small>
            </div>
        </div>
        <div id="mcu-status" class="status-badge offline">
            <i class="fas fa-wifi"></i>
            <span>Offline</span>
        </div>
    </header>

    <div class="clock-section">
        <h2 id="live-clock">00:00:00</h2>
        <div id="live-date">Loading date...</div>
    </div>

    <div class="prayer-card">
        <div class="prayer-grid">
            <div class="prayer-item" id="p-Fajr"><span>Subuh</span><b id="t-Fajr">--:--</b></div>
            <div class="prayer-item" id="p-Dhuhr"><span>Dzuhur</span><b id="t-Dhuhr">--:--</b></div>
            <div class="prayer-item" id="p-Asr"><span>Ashar</span><b id="t-Asr">--:--</b></div>
            <div class="prayer-item" id="p-Maghrib"><span>Maghrib</span><b id="t-Maghrib">--:--</b></div>
            <div class="prayer-item" id="p-Isha"><span>Isya</span><b id="t-Isha">--:--</b></div>
        </div>
        <div style="text-align: center; margin-top: 10px; font-size: 0.7rem; color: #666;">
            Data Source: Firebase Cloud (Auto Sync)
        </div>
    </div>

    <div class="metrics-grid">
        <div class="metric-box">
            <i class="fas fa-thermometer-half"></i>
            <b id="val-temp">--Â°C</b>
        </div>
        <div class="metric-box">
            <i class="fas fa-tint"></i>
            <b id="val-hum">--%</b>
        </div>
    </div>

    <div class="main-panel">
        <div id="door-card" class="door-visual">
            <i id="door-icon" class="fas fa-lock"></i>
            <div id="door-text">SYSTEM SYNCING</div>
        </div>

        <button class="btn-unlock" onclick="sendCommand(3, 'Buka Pintu', 'Yakin ingin membuka pintu?')">
            <i class="fas fa-key"></i> UNLOCK DOOR
        </button>

        <div class="switch-group">
            <div><b>Alert Mode</b><br><small style="color:#666">Peringatan Pintu Terbuka</small></div>
            <label class="switch">
                <input type="checkbox" id="switch-alert" onchange="updateConfig('alertMode', this.checked)">
                <span class="slider"></span>
            </label>
        </div>

        <div class="switch-group">
            <div><b>Adzan Sync</b><br><small style="color:#666">Otomatis Bunyi Saat Adzan</small></div>
            <label class="switch">
                <input type="checkbox" id="switch-adzan" onchange="updateConfig('adzanAuto', this.checked)">
                <span class="slider"></span>
            </label>
        </div>

        <div class="audio-test-grid">
            <button class="btn-test" onclick="sendCommand(5, 'Test Adzan', 'Bunyikan suara adzan sekarang?')">
                <i class="fas fa-play"></i> TEST ADZAN
            </button>
            <button class="btn-test stop" onclick="sendCommand(7, 'Stop Audio', 'Matikan suara?')">
                <i class="fas fa-stop"></i> STOP AUDIO
            </button>
        </div>
    </div>
</div>

<script src="script.js"></script>

</body>
</html>
